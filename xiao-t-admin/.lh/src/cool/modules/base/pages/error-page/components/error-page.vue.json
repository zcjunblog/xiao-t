{
    "sourceFile": "src/cool/modules/base/pages/error-page/components/error-page.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1625209857192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1625209857192,
            "name": "Commit-0",
            "content": "<template>\n\t<div class=\"error-page\">\n\t\t<h1 class=\"code\">{{ code }}</h1>\n\t\t<p class=\"desc\">{{ desc }}</p>\n\n\t\t<template v-if=\"token || isLogout\">\n\t\t\t<div class=\"router\">\n\t\t\t\t<el-select v-model=\"url\" size=\"medium\" filterable prefix-icon=\"el-icon-search\">\n\t\t\t\t\t<el-option v-for=\"(item, index) in routes\" :key=\"index\" :value=\"item.path\">\n\t\t\t\t\t\t<span style=\"float: left\">{{ item.name }}</span>\n\t\t\t\t\t\t<span style=\"float: right\">{{ item.path }}</span>\n\t\t\t\t\t</el-option>\n\t\t\t\t</el-select>\n\n\t\t\t\t<el-button round @click=\"navTo\">跳转</el-button>\n\t\t\t</div>\n\n\t\t\t<ul class=\"link\">\n\t\t\t\t<li @click=\"home\">回到首页</li>\n\t\t\t\t<li @click=\"back\">返回上一页</li>\n\t\t\t\t<li @click=\"reLogin\">重新登录</li>\n\t\t\t</ul>\n\t\t</template>\n\n\t\t<template v-else>\n\t\t\t<div class=\"router\">\n\t\t\t\t<el-button round @click=\"toLogin\">返回登录页</el-button>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<p class=\"copyright\">Copyright © XIAO-T 2021</p>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { useStore } from \"vuex\";\nimport { computed, defineComponent, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { href } from \"/@/core/utils\";\n\nexport default defineComponent({\n\tprops: {\n\t\tcode: Number,\n\t\tdesc: String\n\t},\n\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst router = useRouter();\n\n\t\tconst url = ref<string>(\"\");\n\t\tconst isLogout = ref<boolean>(false);\n\n\t\tconst routes = computed(() => store.getters.routes);\n\t\tconst token = computed(() => store.getters.token);\n\n\t\tfunction navTo() {\n\t\t\trouter.push(url.value);\n\t\t}\n\n\t\tfunction toLogin() {\n\t\t\trouter.push(\"/login\");\n\t\t}\n\n\t\tasync function reLogin() {\n\t\t\tisLogout.value = true;\n\t\t\tawait store.dispatch(\"userLogout\");\n\t\t\thref(\"/login\");\n\t\t}\n\n\t\tfunction back() {\n\t\t\thistory.back();\n\t\t}\n\n\t\tfunction home() {\n\t\t\trouter.push(\"/\");\n\t\t}\n\n\t\treturn {\n\t\t\turl,\n\t\t\tisLogout,\n\t\t\troutes,\n\t\t\ttoken,\n\t\t\tnavTo,\n\t\t\ttoLogin,\n\t\t\treLogin,\n\t\t\tback,\n\t\t\thome\n\t\t};\n\t}\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.error-page {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100%;\n\toverflow-y: auto;\n\n\t.code {\n\t\tfont-size: 120px;\n\t\tfont-weight: normal;\n\t\tcolor: #6c757d;\n\t\tfont-family: \"Segoe UI\";\n\t}\n\n\t.desc {\n\t\tfont-size: 16px;\n\t\tfont-weight: 400;\n\t\tcolor: #34395e;\n\t\tmargin-top: 30px;\n\t}\n\n\t.router {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmargin-top: 50px;\n\t\tmax-width: 450px;\n\t\twidth: 90%;\n\n\t\t.el-select {\n\t\t\tfont-size: 14px;\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.el-button {\n\t\t\tmargin-left: 15px;\n\t\t\tbackground-color: $color-primary;\n\t\t\tborder-color: $color-primary;\n\t\t\tcolor: #fff;\n\t\t\tpadding: 0 30px;\n\t\t\tletter-spacing: 1px;\n\t\t\theight: 36px;\n\t\t\tline-height: 36px;\n\t\t}\n\t}\n\n\t.link {\n\t\tdisplay: flex;\n\t\tmargin-top: 40px;\n\n\t\tli {\n\t\t\tfont-weight: 500;\n\t\t\tcursor: pointer;\n\t\t\tfont-size: 14px;\n\t\t\tmargin: 0 20px;\n\t\t\tlist-style: none;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: $color-primary;\n\t\t\t}\n\t\t}\n\t}\n\n\t.copyright {\n\t\tcolor: #6c757d;\n\t\tfont-size: 14px;\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\theight: 50px;\n\t\tline-height: 50px;\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t}\n}\n</style>\n"
        }
    ]
}